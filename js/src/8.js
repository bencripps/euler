import exec from './util/exec';

const LENGTH = 13;

const NUMBER = `
73167176531330624919225119674426574
74235534919493496983520312774506326
23957831801698480186947885184385861
56078911294949545950173795833195285
32088055111254069874715852386305071
56932909632952274430435576689664895
04452445231617318564030987111217223
83113622298934233803081353362766142
82806444486645238749303589072962904
91560440772390713810515859307960866
70172427121883998797908792274921901
69972088809377665727333001053367881
22023542180975125454059475224352584
90771167055601360483958644670632441
57221553975369781797784617406495514
92908625693219784686224828397224137
56570560574902614079729686524145351
00474821663704844031998900088952434
50658541227588666881164271714799244
42928230863465674813919123162824586
17866458359124566529476545682848912
88314260769004224219022671055626321
11110937054421750694165896040807198
40385096245544436298123098787992724
42849091888458015616609791913387549
92005240636899125607176060588611646
71094050775410022569831552000559357
29725716362695618826704282524836008
23257530420752963450`.replace(/\n/g, '');


const func = (num, len) => {

    const perms = (n, i) => num.substring(i, i + len);
    const byLen = n => n.length === len;
    const multiply = (a, b) => a * b;

    const products = num.split('')
        .map(perms)
        .filter(byLen)
        .map(n => n.split('').reduce(multiply));

    return Math.max(...products);

}

exec(func.bind(null, NUMBER, LENGTH));
